<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>{% block title %}{% block title_prefix %}{{ page_title }}{% endblock %} - Peterbe.com{% endblock %}</title>

  {% compress css %}
  <link rel="stylesheet" type="text/css" href="{{ static('css/reset.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/site.css') }}">

  <link rel="stylesheet" type="text/css" href="{{ static('css/container.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/grid.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/header.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/image.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/menu.css') }}">

  <link rel="stylesheet" type="text/css" href="{{ static('css/divider.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/list.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/segment.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/dropdown.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/icon.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/transition.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/input.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/comment.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/form.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/button.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/highlight.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/table.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ static('css/peterbe.css') }}">
  {% endcompress %}
  <link rel="stylesheet" href="{{ static('autocompeter/autocompeter.min.css') }}">

  <meta name="description" content="Stuff in Peter's head">
  <link rel="shortcut icon" href="{{ static("images/favicon-32.png") }}">
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml">

  {% if use_google_analytics %}
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-94373-1', 'peterbe.com');
    ga('send', 'pageview');
  </script>
  {% endif %}

  {% block extrahead %}
  {% endblock %}

</head>
<body>

  <div class="ui main text container">
    <h1 class="ui header">{% block page_title %}{{ page_title }}{% endblock %}</h1>
    {% block page_header_extra %}
    {% endblock %}
  </div>

  <div class="ui borderless main menu">
    <div class="ui text container">

      <div href="#" class="header item">
        <a href="/"><img class="logo" src="{{ static('images/favicon-32.png') }}"></a>
        <a href="/">Peterbe.com</a>
        {% if page_title %}
        <a class="page-title-repeated">{{ page_title }}</a>
        {% endif %}
      </div>

      <div class="right menu">
        <a href="{{ url('plog_index') }}" class="ui item">Archive</a>
        <a href="{{ url('about') }}" class="ui item">About</a>
        <a href="{{ url('contact') }}" class="ui item">Contact</a>
        <form action="{{ url('search') }}" class="navbar-form navbar-right" role="search">
        <div class="item ui input">
        <input type="text" name="q" {#class="form-control search-query" #}
          maxlength="90"
          placeholder="Search" {% if q %}value="{{ q }}"{% endif %}>
        </div>
        </form>

      </div>

      <div href="#" class="ui right floated dropdown item">
        Menu<i class="dropdown icon"></i>
        <div class="menu">
          <a class="item" href="{{ url('plog_index') }}">Archive</a>
          <a class="item" href="{{ url('about') }}">About</a>
          <a class="item" href="{{ url('contact') }}">Contact</a>
          <a class="item" href="{{ url('search') }}">Search</a>
        </div>
      </div>
    </div>
  </div>

  <div class="ui text container">
    {% block content %}
      {% block content_body %}
      {% endblock %}
    {% endblock %}
  </div>

  <div class="ui inverted vertical footer segment">
    <div class="ui center aligned container">
      <div class="ui horizontal inverted small divided link list">
        <p>
          &copy; peterbe.com 2003 - {{ THIS_YEAR }}
          &sdot;
          Hosted on <a href="https://www.digitalocean.com/?refcode=9c9126b69f33"
          title="Yes, following this link and signing up will give me a small referal bonus :)"
          >Digital Ocean</a>
        </p>
        <a class="item" href="/">Home</a>
        <a class="item" href="{{ url('plog_index') }}">Archive</a>
        <a class="item" href="{{ url('about') }}">About</a>
        <a class="item" href="{{ url('contact') }}">Contact</a>
        <a class="item" href="{{ url('search') }}">Search</a>
      </div>
    </div>
  </div>

  {% compress js %}
  <script src="{{ static('js/jquery.min.js') }}"></script>
  <script src="{{ static('js/transition.js') }}"></script>
  <script src="{{ static('js/dropdown.js') }}"></script>
  <script src="{{ static('js/visibility.js') }}"></script>
  <script src="{{ static('js/prefetcher.js') }}"></script>
  <script src="{{ static('js/site.js') }}"></script>
  {% endcompress %}

  {% block extrajs %}{% endblock %}
  <script>
  (function() {
    var i=0, urls = [
      '//cdn.jsdelivr.net/autocompeter/1/autocompeter.min.js',
      '{{ static('js/autocompeter.js') }}'
    ];
    var load = function() {
      if (i < urls.length) {
        var script = document.createElement('script');
        script.src = urls[i];
        script.onload = load;
        document.head.appendChild(script);
        i++;
      }
    };load();
  })();
  </script>

</body>

</html>
