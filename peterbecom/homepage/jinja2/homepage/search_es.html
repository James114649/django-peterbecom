{% extends "base.html" %}

{% block extrahead %}
<style>
a.better { font-weight: bold; }
.row .page-header { padding-bottom:5px; margin: 25px 0 5px 0;}
.result {
  margin-bottom: 35px;
}
.result h3 {
  margin-bottom: 2px;
}
.result a.url { color:green; }
mark {
  background: #ffffdc;
  color: inherit;
}
</style>
{% endblock %}

{% block title_prefix %}Search: {{ page_title }}{% endblock %}

{% block content %}

{% if original_q %}
  <div class="ui info message"
     style="margin-bottom:4px">
    <p>
      Couldn't find any exact matches for <code>{{ original_q }}</code>
      so trying any of the words
      {% for term in non_stopwords_q %}
        <code>{{ term }}</code>{% if not loop.last %}, {% endif %}
      {% endfor %}
    </p>
  </div>
{% endif %}

{% if q %}
  <p><small>in {{ floatformat(search_time * 1000, 1) }} milliseconds</small></p>
{% endif %}

{% if not q %}
  <form class="ui search">
    <div class="ui fluid huge icon  input">
      <input type="text" name="q" placeholder="Search..." value="">
      <i class="search icon"></i>
    </div>
  </form>
{% endif %}


{% for document in documents %}
  <div class="result">
    <h3>
      <a href="{{ document.url }}">{{ document.title|safe }}</a>
      &nbsp;
      <small style="float: right">{{ document.date.strftime('%d %b %Y') }}</small>
    </h3>
    <a class="url" href="{{ document.url }}">{{ base_url }}{{ document.url }}</a>
    <br>
    {{ document.summary|safe }}
  </div>
{% endfor %}

{% endblock %}
