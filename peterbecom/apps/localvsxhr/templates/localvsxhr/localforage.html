{% extends "localvsxhr/base.html" %}

{% block title_prefix %}{{ page_title }}{% endblock %}

{% block page_header_extra %}
  <p>
    <a href="{{ url('localvsxhr:index') }}">Experiment index page</a>
  </p>
{% endblock %}

{% block content %}

<div class="container">
  <h3>Comparing the speed it takes to download a big chunk
  of JSON via AJAX compared to retrieving it from IndexedDB locally
  in the browser.</h3>
  <h4>To get the story about this visit:
    <a href="http://www.peterbe.com/plog/localforage-vs.-xhr">http://www.peterbe.com/plog/localforage-vs.-xhr</a>
  </h4>
  <p>JSON blob size: <code id="size"></code> bytes</p>
  <p>Iterations left: <code id="iterations"></code></p>
  <table>
    <tr id="ajax">
      <th>AJAX</th>
    </tr>
    <tr id="indexeddb">
      <th>IndexedDB</th>
    </tr>
  </table>
  <hr>
  <div class="summary"></div>
  {% include "localvsxhr/share.html" %}
  <div class="next">
    <p>
      <a href="{{ url('localvsxhr:localforage_localstorage') }}">Next experiment &rarr;</a>
    </p>
  </div>
</div><!-- /.container -->

{% endblock %}

{% block extrajs %}
<script src="{{ static('localvsxhr/localforage.min.js') }}"></script>
<script src="{{ static('localvsxhr/utils.js') }}"></script>
<script src="{{ static('localvsxhr/localforage-report.js') }}"></script>
{% endblock %}
